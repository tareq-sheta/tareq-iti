<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      /* :root {
        --btnColor: rgb(14, 0, 92);
      } */

      .container,
      .top,
      .bottom {
        border: 2px solid rgb(115, 255, 0);
        box-shadow: 0px 0px 75px inset rgba(228, 8, 228, 0.5);
        display: flex;
        border-radius: 10px;
      }
      .container {
        border: 2px solid red;
        flex-direction: column;
        padding: 50px;
        width: 95vw;
        margin: 50px auto;
        gap: 20px;
      }
      .top,
      .bottom {
        justify-content: space-evenly;
        padding: 50px;
      }
      .bottom {
        height: 200px;
        padding: 50px;
      }
      img {
        width: 100px;
        height: 100px;
        transition: all 1s ease-in;
        border: 6px groove rgb(49, 12, 184);
      }
      img:hover {
        transform: scale(1.5) rotate(360deg);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="top">
        <img src="../imgs/r1.png" alt="" />
        <img src="../imgs/r2.png" alt="" />
        <img src="../imgs/r3.png" alt="" />
        <img src="../imgs/r4.png" alt="" />
        <img src="../imgs/r5.png" alt="" />
        <img src="../imgs/r6.png" alt="" />
        <img src="../imgs/r7.png" alt="" />
        <img src="../imgs/r8.png" alt="" />
        <img src="../imgs/r9.png" alt="" />
        <img src="../imgs/r10.png" alt="" />
      </div>
      <div class="bottom"></div>
    </div>
    <script>
      let arrived = false;

      let topList = document.querySelector(".top");
      let bottomList = document.querySelector(".bottom");

      bottomList.addEventListener("dragover", function (e) {
        arrived = true;
        e.preventDefault();
      });
      // ---------------
      // ---------------
      // ---------------
      // ---------------
      // ---------------
      // ---------------
      // ---------------
      topList.addEventListener("dragstart", function (e) {
        arrived = false;
        e.dataTransfer.setData("img", e.target.outerHTML);
        console.log("start");
      });

      topList.addEventListener("dragend", function (e) {
        if (arrived) {
          console.log("dragend");
          topList.removeChild(e.target);
        }
      });
      bottomList.addEventListener("dragleave", function (e) {
        e.preventDefault();
        arrived = false;
        console.log("dragleave");
      });
      // bottomList.addEventListener("dropend", function (e) {
      //   e.preventDefault();
      //   arrived = false;
      // });

      bottomList.addEventListener("drop", function (e) {
        let topImgs = document.querySelectorAll(".top img");
        e.preventDefault();
        console.log("drop");
        if (arrived) {
          // console.log("droped-bottom2222");
          bottomList.innerHTML += e.dataTransfer.getData("img");
        }
        console.log(topImgs);
        if (topImgs.length === 1) {
          let p = document.createElement("p");
          p.textContent = "empty";
          document.querySelector(".top").appendChild(p);
        }
      });
      // ----------------
    </script>
  </body>
</html>
